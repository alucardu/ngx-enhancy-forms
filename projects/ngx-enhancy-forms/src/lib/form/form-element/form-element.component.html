<ng-template #errorRef>
  <div *ngIf="getErrorToShow()" class="errorContainer">
    <div *ngIf="showDefaultError('min')" translate [translateParams]="{min: attachedControl.errors.min.min}">Use a
      number larger than %min%
    </div>
    <div *ngIf="showDefaultError('max')" translate [translateParams]="{max: attachedControl.errors.max.max}">Use a
      number smaller than %max%
    </div>
    <div *ngIf="showDefaultError('required')" translate>This field is required</div>
    <div *ngIf="showDefaultError('email')" translate>Use a valid email address</div>
    <div *ngIf="showDefaultError('minlength')" translate
         [translateParams]="{minLength: attachedControl.errors.minlength.requiredLength}">Has to be longer than
      %minLength% character(s)
    </div>
    <div *ngIf="showDefaultError('maxlength')" translate
         [translateParams]="{maxlength: attachedControl.errors.maxlength.requiredLength}">Has to be shorter than
      %maxlength% character(s)
    </div>
    <div *ngIf="showDefaultError('pattern')" translate>This input is not valid</div>
    <div *ngIf="showDefaultError('MatchPassword')" translate>Passwords must match</div>
    <div *ngIf="showDefaultError('date')" translate>Enter a valid date</div>
    <div [ngTemplateOutlet]="getCustomErrorHandler(getErrorToShow())?.templateRef"></div>
  </div>
</ng-template>
<ng-container *ngIf="direction === 'horizontal'" [ngTemplateOutlet]="errorRef"></ng-container>
<div *ngIf="attachedControl" class="componentContainer"
     [ngClass]="{vertical: direction === 'vertical', reverseOrder: swapInputAndCaption}" #internalComponentRef>
  <div class="caption"
       [ngClass]="{ hasErrors: getErrorToShow() && attachedControl.touched, percentageSpacing: captionSpacing === 'percentages' }">
    <div *ngIf="captionRef" [ngTemplateOutlet]="captionRef"></div>
    <div *ngIf="!captionRef">{{caption}}</div>
  </div>
  <ng-container *ngIf="direction === 'vertical'" [ngTemplateOutlet]="errorRef"></ng-container>
  <div class="inputContainer" [ngClass]="{ percentageSpacing: captionSpacing === 'percentages' }">
    <ng-content></ng-content>
  </div>
</div>
